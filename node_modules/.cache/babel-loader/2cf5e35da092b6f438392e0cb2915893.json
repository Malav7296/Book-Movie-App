{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91756\\\\Desktop\\\\Upgrad\\\\Frontend\\\\Book Movie App\\\\book-movie-app3\\\\src\\\\common\\\\header\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport { Button } from '@material-ui/core';\nimport React, { Component, Fragment } from 'react';\nimport './Header.css';\nimport logo from './logo.svg';\nimport Modal from 'react-modal';\nimport Demo from './demo';\nimport MuiTabs from './MuiTab';\nimport Logout from './Logout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n  const [isLoggedIn, setLoggedIn] = React.useState(false);\n  const customStyles = {\n    content: {\n      height: '60%',\n      width: '30%',\n      position: 'absolute',\n      top: '20%',\n      left: '35%'\n    }\n  };\n\n  function userIsLoggedIn() {\n    setLoggedIn(true);\n  }\n\n  function userIsLoggedOut() {\n    setLoggedIn(false);\n  }\n\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  }\n\n  async function logoutUser() {\n    try {\n      const rawResponse = await fetch(\"http://localhost:8085/api/v1/auth/logout\", {\n        method: \"POST\",\n        headers: {\n          'Accept': \"application/json;charset=UTF-8\",\n          'Content-Type': 'application/json;charset=UTF-8',\n          authorization: `Bearer ${sessionStorage.getItem('access-token')}`\n        }\n      });\n      const result = await rawResponse.json();\n\n      if (rawResponse.ok) {\n        console.log(\"Success\");\n        userIsLoggedOut();\n      } else {\n        const error = new Error();\n        error.message = result.message || \"Something went wrong\";\n      }\n    } catch (error) {\n      alert(`Error: ${error.message}`);\n    }\n  }\n\n  if (isLoggedIn === false) {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"logo\",\n          src: logo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: openModal,\n          variant: \"contained\",\n          className: \"login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: modalIsOpen,\n          onRequestClose: closeModal,\n          style: customStyles,\n          contentLabel: \"Example Modal\",\n          ariaHideApp: false,\n          children: /*#__PURE__*/_jsxDEV(MuiTabs, {\n            onRequestClose: () => closeModal(),\n            changeToLogout: () => userIsLoggedIn()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"logo\",\n          src: logo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: logoutUser,\n          variant: \"contained\",\n          className: \"login\",\n          children: \" isLoggedIn ? Logout : Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 16\n    }, this);\n  }\n};\n\n_s(Header, \"ig5WEAJCsAGE3K/zcZPZQqrLoXQ=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["Button","React","Component","Fragment","logo","Modal","Demo","MuiTabs","Logout","Header","modalIsOpen","setIsOpen","useState","isLoggedIn","setLoggedIn","customStyles","content","height","width","position","top","left","userIsLoggedIn","userIsLoggedOut","openModal","closeModal","logoutUser","rawResponse","fetch","method","headers","authorization","sessionStorage","getItem","result","json","ok","console","log","error","Error","message","alert"],"sources":["C:/Users/91756/Desktop/Upgrad/Frontend/Book Movie App/book-movie-app3/src/common/header/Header.js"],"sourcesContent":["import { Button } from '@material-ui/core';\r\nimport React, { Component, Fragment } from 'react';\r\nimport './Header.css'\r\nimport logo from './logo.svg';\r\nimport Modal from 'react-modal';\r\nimport Demo from './demo';\r\nimport MuiTabs from './MuiTab';\r\nimport Logout from './Logout';\r\n\r\n\r\n\r\nconst Header = () =>{\r\n\r\n    const [modalIsOpen, setIsOpen] = React.useState(false);\r\n    const [isLoggedIn ,setLoggedIn] = React.useState(false)\r\n    \r\n\r\n    const customStyles = {\r\n        content: {\r\n          height:'60%',\r\n          width:'30%',\r\n          position:'absolute',\r\n          top:'20%',\r\n          left : '35%'\r\n        },\r\n      };\r\n\r\n    function userIsLoggedIn(){\r\n        setLoggedIn(true);\r\n    }\r\n\r\n    function userIsLoggedOut(){\r\n        setLoggedIn(false);\r\n    }\r\n\r\n    function openModal() {\r\n      setIsOpen(true);\r\n    }\r\n\r\n    function closeModal() {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    async function logoutUser() {\r\n        try {\r\n            const rawResponse = await fetch(\"http://localhost:8085/api/v1/auth/logout\",{\r\n                method:\"POST\",\r\n                headers:{\r\n                'Accept':\"application/json;charset=UTF-8\",\r\n                'Content-Type' : 'application/json;charset=UTF-8',\r\n                authorization : `Bearer ${sessionStorage.getItem('access-token')}`\r\n            }\r\n            })\r\n\r\n            const result = await rawResponse.json()\r\n            \r\n            if(rawResponse.ok){\r\n                console.log(\"Success\")\r\n                userIsLoggedOut();\r\n            }else{\r\n                const error = new Error();\r\n                error.message = result.message || \"Something went wrong\"\r\n            }\r\n            \r\n        } catch (error) {\r\n            alert(`Error: ${error.message}`)\r\n            \r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    if(isLoggedIn === false){\r\n        return (  <Fragment>\r\n            <div className='header'>\r\n                <img className='logo' src = {logo} ></img>              \r\n                <Button onClick={openModal} variant=\"contained\" className='login'>Login</Button>\r\n                \r\n                    <Modal\r\n                            isOpen={modalIsOpen}                   \r\n                            onRequestClose={closeModal}   \r\n                            style={customStyles}                   \r\n                            contentLabel=\"Example Modal\"\r\n                            ariaHideApp={false}\r\n                    >                            \r\n                    <MuiTabs onRequestClose={() =>closeModal()} changeToLogout = {() =>userIsLoggedIn()}/>\r\n                    </Modal>               \r\n                </div>\r\n            </Fragment>)\r\n      \r\n    }else{\r\n        return(<Fragment>\r\n            <div className='header'>\r\n                <img className='logo' src = {logo} ></img>              \r\n                <Button onClick={logoutUser} variant=\"contained\" className='login'> isLoggedIn ? Logout : Login</Button>\r\n                \r\n            </div>\r\n        </Fragment>)\r\n    }\r\n \r\n}\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module"}