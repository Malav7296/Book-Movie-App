{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91756\\\\Desktop\\\\Upgrad\\\\Frontend\\\\Book Movie App\\\\book-movie-app3\\\\src\\\\screens\\\\confirmation\\\\Confirmation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../../common/header/Header\";\nimport \"./Confirmation.css\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport green from \"@material-ui/core/colors/green\";\nimport { Link, useLocation, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst styles = theme => ({\n  close: {\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  },\n  success: {\n    color: green[600]\n  }\n});\n\nconst Confirmation = props => {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const [bookingId, setBookingId] = useState(\"\");\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [originalTotalPrice, setOriginalTotalPrice] = useState(0);\n  const {\n    id\n  } = useParams();\n  const {\n    state\n  } = useLocation();\n  useEffect(() => {\n    const price = parseInt(state.bookingSummary.unitPrice, 10) * parseInt(state.bookingSummary.tickets, 10);\n    setTotalPrice(price);\n    setOriginalTotalPrice(price);\n  }, []);\n\n  const confirmBookingHandler = () => {\n    let data = JSON.stringify({\n      coupon_code: couponCode,\n      show_id: state.bookingSummary.showId,\n      tickets: [state.bookingSummary.tickets.toString()]\n    });\n    fetch(props.baseUrl + \"bookings\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\")\n      },\n      body: data\n    }).then(response => response.json()).then(data => {\n      setBookingId(data.reference_number);\n    });\n    setOpen(true);\n  };\n\n  const snackBarCloseHandler = () => {\n    props.history.push(\"/\");\n  };\n\n  const couponCodeChangeHandler = e => {\n    setCouponCode(e.target.value);\n  };\n\n  const couponApplyHandler = () => {\n    fetch(props.baseUrl + \"movies/\" + props.match.params.id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\")\n      }\n    }).then(response => response.json()).then(data => {\n      let discountValue = data.value;\n\n      if (discountValue !== undefined && discountValue > 0) {\n        setTotalPrice(originalTotalPrice - originalTotalPrice * discountValue / 100);\n      } else {\n        setTotalPrice(originalTotalPrice);\n      }\n    });\n  };\n\n  const {\n    classes\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Details\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"confirmation marginTop16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/bookshow/\" + id,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            className: \"back\",\n            children: \"< Back to Book Show\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"cardStyle\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"headline\",\n              component: \"h2\",\n              children: \"SUMMARY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmLeft\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"Location:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: state.bookingSummary.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmLeft\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"Theatre:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: state.bookingSummary.theatre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmLeft\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"Language:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: state.bookingSummary.language\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmLeft\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"Show Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: state.bookingSummary.showDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmLeft\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"Tickets:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: state.bookingSummary.tickets.toString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmLeft\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: \"Unit Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: state.bookingSummary.unitPrice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  className: \"formControl\",\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    htmlFor: \"coupon\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      children: \"Coupon Code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Input, {\n                    id: \"coupon\",\n                    onChange: couponCodeChangeHandler\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"marginApply\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: couponApplyHandler,\n                  color: \"primary\",\n                  children: \"Apply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirmLeft\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bold\",\n                  children: \"Total Price:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: parseInt(totalPrice, 10)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: confirmBookingHandler,\n              color: \"primary\",\n              children: \"Confirm Booking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"center\"\n      },\n      className: \"snackbar\",\n      open: open,\n      onClose: snackBarCloseHandler,\n      message: /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"client-snackbar\",\n        className: classes.success,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"confirm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message\",\n            children: [\" Booking Confirmed! \", bookingId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this),\n      action: [/*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"Close\",\n        color: \"inherit\",\n        className: classes.close,\n        onClick: snackBarCloseHandler,\n        children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)\n      }, \"close\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this)]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Confirmation, \"xuttaHMC6VTo4eK0lRLvkr+328Q=\", false, function () {\n  return [useParams, useLocation];\n});\n\n_c = Confirmation;\nConfirmation.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Confirmation);\n\nvar _c;\n\n$RefreshReg$(_c, \"Confirmation\");","map":{"version":3,"names":["React","useState","useEffect","Header","Typography","Input","InputLabel","FormControl","Button","Card","CardContent","Snackbar","IconButton","CloseIcon","withStyles","PropTypes","CheckCircleIcon","green","Link","useLocation","useParams","styles","theme","close","width","spacing","height","success","color","Confirmation","props","open","setOpen","bookingId","setBookingId","couponCode","setCouponCode","totalPrice","setTotalPrice","originalTotalPrice","setOriginalTotalPrice","id","state","price","parseInt","bookingSummary","unitPrice","tickets","confirmBookingHandler","data","JSON","stringify","coupon_code","show_id","showId","toString","fetch","baseUrl","method","headers","Authorization","sessionStorage","getItem","body","then","response","json","reference_number","snackBarCloseHandler","history","push","couponCodeChangeHandler","e","target","value","couponApplyHandler","match","params","discountValue","undefined","classes","location","theatre","language","showDate","vertical","horizontal","propTypes","object","isRequired"],"sources":["C:/Users/91756/Desktop/Upgrad/Frontend/Book Movie App/book-movie-app3/src/screens/confirmation/Confirmation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"../../common/header/Header\";\nimport \"./Confirmation.css\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport green from \"@material-ui/core/colors/green\";\nimport { Link, useLocation, useParams } from \"react-router-dom\";\n\nconst styles = (theme) => ({\n  close: {\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  },\n  success: {\n    color: green[600],\n  },\n});\n\nconst Confirmation = (props) => {\n  const [open, setOpen] = useState(false);\n  const [bookingId, setBookingId] = useState(\"\");\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [originalTotalPrice, setOriginalTotalPrice] = useState(0);\n  const {id} = useParams()\n  const {state} = useLocation()\n\n\n  useEffect(() => {\n    const price =\n      parseInt(state.bookingSummary.unitPrice, 10) *\n      parseInt(state.bookingSummary.tickets, 10);\n    setTotalPrice(price);\n    setOriginalTotalPrice(price);\n  }, []);\n\n  const confirmBookingHandler = () => {\n    let data = JSON.stringify({\n      coupon_code: couponCode,\n      show_id: state.bookingSummary.showId,\n      tickets: [state.bookingSummary.tickets.toString()],\n    });\n\n    fetch(props.baseUrl + \"bookings\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\"),\n      },\n      body: data,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setBookingId(data.reference_number);\n      });\n\n    setOpen(true);\n  };\n\n  const snackBarCloseHandler = () => {\n    props.history.push(\"/\");\n  };\n\n  const couponCodeChangeHandler = (e) => {\n    setCouponCode(e.target.value);\n  };\n\n  const couponApplyHandler = () => {\n    fetch(props.baseUrl + \"movies/\" + props.match.params.id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\"),\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        let discountValue = data.value;\n        if (discountValue !== undefined && discountValue > 0) {\n          setTotalPrice(\n            originalTotalPrice - (originalTotalPrice * discountValue) / 100\n          );\n        } else {\n          setTotalPrice(originalTotalPrice);\n        }\n      });\n  };\n\n  const { classes } = props;\n\n  return (\n    <div className=\"Details\">\n      <Header />\n\n      <div className=\"confirmation marginTop16\">\n        <div>\n          <Link to={\"/bookshow/\" + id}>\n            <Typography className=\"back\">&#60; Back to Book Show</Typography>\n          </Link> \n          <br />\n\n          <Card className=\"cardStyle\">\n            <CardContent>\n              <Typography variant=\"headline\" component=\"h2\">\n                SUMMARY\n              </Typography>\n              <br />\n\n              <div className=\"coupon-container\">\n                <div className=\"confirmLeft\">\n                  <Typography>Location:</Typography>\n                </div>\n                <div>\n                  <Typography>\n                    {state.bookingSummary.location}\n                  </Typography>\n                </div>\n              </div>\n              <br />\n\n              <div className=\"coupon-container\">\n                <div className=\"confirmLeft\">\n                  <Typography>Theatre:</Typography>\n                </div>\n                <div>\n                  <Typography>\n                    {state.bookingSummary.theatre}\n                  </Typography>\n                </div>\n              </div>\n              <br />\n\n              <div className=\"coupon-container\">\n                <div className=\"confirmLeft\">\n                  <Typography>Language:</Typography>\n                </div>\n                <div>\n                  <Typography>\n                    {state.bookingSummary.language}\n                  </Typography>\n                </div>\n              </div>\n              <br />\n\n              <div className=\"coupon-container\">\n                <div className=\"confirmLeft\">\n                  <Typography>Show Date:</Typography>\n                </div>\n                <div>\n                  <Typography>\n                    {state.bookingSummary.showDate}\n                  </Typography>\n                </div>\n              </div>\n              <br />\n\n              <div className=\"coupon-container\">\n                <div className=\"confirmLeft\">\n                  <Typography>Tickets:</Typography>\n                </div>\n                <div>\n                  <Typography>\n                    {state.bookingSummary.tickets.toString()}\n                  </Typography>\n                </div>\n              </div>\n              <br />\n\n              <div className=\"coupon-container\">\n                <div className=\"confirmLeft\">\n                  <Typography>Unit Price:</Typography>\n                </div>\n                <div>\n                  <Typography>\n                    {state.bookingSummary.unitPrice}\n                  </Typography>\n                </div>\n              </div>\n              <br />\n\n              <div className=\"coupon-container\">\n                <div>\n                  <FormControl className=\"formControl\">\n                    <InputLabel htmlFor=\"coupon\">\n                      <Typography>Coupon Code</Typography>\n                    </InputLabel>\n                    <Input id=\"coupon\" onChange={couponCodeChangeHandler} />\n                  </FormControl>\n                </div>\n                <div className=\"marginApply\">\n                  <Button\n                    variant=\"contained\"\n                    onClick={couponApplyHandler}\n                    color=\"primary\"\n                  >\n                    Apply\n                  </Button>\n                </div>\n              </div>\n              <br />\n              <br />\n\n              <div className=\"coupon-container\">\n                <div className=\"confirmLeft\">\n                  <span className=\"bold\">Total Price:</span>\n                </div>\n                <div>{parseInt(totalPrice, 10)}</div>\n              </div>\n              <br />\n\n              <Button\n                variant=\"contained\"\n                onClick={confirmBookingHandler}\n                color=\"primary\"\n              >\n                Confirm Booking\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        className=\"snackbar\"\n        open={open}\n        onClose={snackBarCloseHandler}\n        message={\n          <span id=\"client-snackbar\" className={classes.success}>\n            <div className=\"confirm\">\n              <div>\n                <CheckCircleIcon />\n              </div>\n              <div className=\"message\"> Booking Confirmed! {bookingId}</div>\n            </div>\n          </span>\n        }\n        action={[\n          <IconButton\n            key=\"close\"\n            aria-label=\"Close\"\n            color=\"inherit\"\n            className={classes.close}\n            onClick={snackBarCloseHandler}\n          >\n            <CloseIcon />\n          </IconButton>,\n        ]}\n      />\n    </div>\n  );\n};\n\nConfirmation.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Confirmation);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}