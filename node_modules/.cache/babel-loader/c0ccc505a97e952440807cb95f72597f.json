{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91756\\\\Desktop\\\\Upgrad\\\\Frontend\\\\Book Movie App\\\\book-movie-app3\\\\src\\\\screens\\\\confirmation\\\\Confirmation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../../common/header/Header\";\nimport \"./Confirmation.css\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport green from \"@material-ui/core/colors/green\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst styles = theme => ({\n  close: {\n    width: theme.spacing.unit * 4,\n    height: theme.spacing.unit * 4\n  },\n  success: {\n    color: green[600]\n  }\n});\n\nconst Confirmation = props => {\n  _s();\n\n  const [open, setOpen] = useState(false);\n  const [bookingId, setBookingId] = useState(\"\");\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [originalTotalPrice, setOriginalTotalPrice] = useState(0);\n  useEffect(() => {\n    const price = parseInt(props.location.bookingSummary.unitPrice, 10) * parseInt(props.location.bookingSummary.tickets, 10);\n    setTotalPrice(price);\n    setOriginalTotalPrice(price);\n  }, []);\n\n  const confirmBookingHandler = () => {\n    let data = JSON.stringify({\n      coupon_code: couponCode,\n      show_id: props.location.bookingSummary.showId,\n      tickets: [props.location.bookingSummary.tickets.toString()]\n    });\n    fetch(props.baseUrl + \"bookings\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\")\n      },\n      body: data\n    }).then(response => response.json()).then(data => {\n      setBookingId(data.reference_number);\n    });\n    setOpen(true);\n  };\n\n  const snackBarCloseHandler = () => {\n    props.history.push(\"/\");\n  };\n\n  const couponCodeChangeHandler = e => {\n    setCouponCode(e.target.value);\n  };\n\n  const couponApplyHandler = () => {\n    fetch(props.baseUrl + \"movies/\" + props.match.params.id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\")\n      }\n    }).then(response => response.json()).then(data => {\n      let discountValue = data.value;\n\n      if (discountValue !== undefined && discountValue > 0) {\n        setTotalPrice(originalTotalPrice - originalTotalPrice * discountValue / 100);\n      } else {\n        setTotalPrice(originalTotalPrice);\n      }\n    });\n  };\n\n  const {\n    classes\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Confirmation Page\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Confirmation, \"6WxQ/KzFTDZW4LXwG/bPVUSAdO8=\");\n\n_c = Confirmation;\nConfirmation.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Confirmation);\n\nvar _c;\n\n$RefreshReg$(_c, \"Confirmation\");","map":{"version":3,"names":["React","useState","useEffect","Header","Typography","Input","InputLabel","FormControl","Button","Card","CardContent","Snackbar","IconButton","CloseIcon","withStyles","PropTypes","CheckCircleIcon","green","Link","styles","theme","close","width","spacing","unit","height","success","color","Confirmation","props","open","setOpen","bookingId","setBookingId","couponCode","setCouponCode","totalPrice","setTotalPrice","originalTotalPrice","setOriginalTotalPrice","price","parseInt","location","bookingSummary","unitPrice","tickets","confirmBookingHandler","data","JSON","stringify","coupon_code","show_id","showId","toString","fetch","baseUrl","method","headers","Authorization","sessionStorage","getItem","body","then","response","json","reference_number","snackBarCloseHandler","history","push","couponCodeChangeHandler","e","target","value","couponApplyHandler","match","params","id","discountValue","undefined","classes","propTypes","object","isRequired"],"sources":["C:/Users/91756/Desktop/Upgrad/Frontend/Book Movie App/book-movie-app3/src/screens/confirmation/Confirmation.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"../../common/header/Header\";\nimport \"./Confirmation.css\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport green from \"@material-ui/core/colors/green\";\nimport { Link } from \"react-router-dom\";\n\nconst styles = (theme) => ({\n  close: {\n    width: theme.spacing.unit * 4,\n    height: theme.spacing.unit * 4,\n  },\n  success: {\n    color: green[600],\n  },\n});\n\nconst Confirmation = (props) => {\n  const [open, setOpen] = useState(false);\n  const [bookingId, setBookingId] = useState(\"\");\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [originalTotalPrice, setOriginalTotalPrice] = useState(0);\n\n  useEffect(() => {\n    const price =\n      parseInt(props.location.bookingSummary.unitPrice, 10) *\n      parseInt(props.location.bookingSummary.tickets, 10);\n    setTotalPrice(price);\n    setOriginalTotalPrice(price);\n  }, []);\n\n  const confirmBookingHandler = () => {\n    let data = JSON.stringify({\n      coupon_code: couponCode,\n      show_id: props.location.bookingSummary.showId,\n      tickets: [props.location.bookingSummary.tickets.toString()],\n    });\n\n    fetch(props.baseUrl + \"bookings\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\"),\n      },\n      body: data,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setBookingId(data.reference_number);\n      });\n\n    setOpen(true);\n  };\n\n  const snackBarCloseHandler = () => {\n    props.history.push(\"/\");\n  };\n\n  const couponCodeChangeHandler = (e) => {\n    setCouponCode(e.target.value);\n  };\n\n  const couponApplyHandler = () => {\n    fetch(props.baseUrl + \"movies/\" + props.match.params.id, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"access-token\"),\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        let discountValue = data.value;\n        if (discountValue !== undefined && discountValue > 0) {\n          setTotalPrice(\n            originalTotalPrice - (originalTotalPrice * discountValue) / 100\n          );\n        } else {\n          setTotalPrice(originalTotalPrice);\n        }\n      });\n  };\n\n  const { classes } = props;\n\n  return (\n    <h1>Confirmation Page</h1>\n      );\n};\n\nConfirmation.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Confirmation);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}